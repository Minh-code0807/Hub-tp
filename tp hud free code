local player = game.Players.LocalPlayer
local gui = Instance.new("ScreenGui")
gui.Name = "MinhHubDraggableGui"
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 350, 0, 180)
frame.Position = UDim2.new(0.5, -175, 0.3, 0)
frame.BackgroundColor3 = Color3.fromRGB(33, 35, 42)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.Parent = gui

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundTransparency = 1
title.Font = Enum.Font.GothamBold
title.Text = "by Minh Hub"
title.TextSize = 28
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Parent = frame

local buttonTable = Instance.new("Frame")
buttonTable.Size = UDim2.new(1, -40, 0, 80)
buttonTable.Position = UDim2.new(0, 20, 0, 60)
buttonTable.BackgroundTransparency = 1
buttonTable.Parent = frame

local uiList = Instance.new("UIListLayout")
uiList.FillDirection = Enum.FillDirection.Horizontal
uiList.HorizontalAlignment = Enum.HorizontalAlignment.Center
uiList.VerticalAlignment = Enum.VerticalAlignment.Center
uiList.Padding = UDim.new(0, 20)
uiList.Parent = buttonTable

local function createButton(name, callback)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0, 80, 0, 40)
    btn.BackgroundColor3 = Color3.fromRGB(114, 137, 218)
    btn.Text = name
    btn.TextColor3 = Color3.fromRGB(255,255,255)
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 20
    btn.BorderSizePixel = 0
    btn.AutoButtonColor = true
    btn.Parent = buttonTable
    btn.MouseButton1Click:Connect(callback)
end

createButton("Tp end", function()
    local char = player.Character or player.CharacterAdded:Wait()
    local hrp = char:FindFirstChild("HumanoidRootPart")
    if hrp then
        hrp.CFrame = CFrame.new(-428.75, 26.07, -49040.91)
        game.StarterGui:SetCore("SendNotification", {
            Title = "Thông báo";
            Text = "Đã dịch chuyển!";
            Duration = 2;
        })
    end
end)

local oldMinZoom, oldMaxZoom = nil, nil
local npcLockEnabled = false

createButton("NPC Lock", function()
    npcLockEnabled = not npcLockEnabled
    if npcLockEnabled then
        oldMinZoom = player.CameraMinZoomDistance
        oldMaxZoom = player.CameraMaxZoomDistance
        player.CameraMinZoomDistance = 0.5
        player.CameraMaxZoomDistance = 50
        loadstring(game:HttpGet("https://raw.githubusercontent.com/huybuda1/Anh-Con-PHD-Troll/refs/heads/main/AnhCon_TheNao_LaiManh.lua"))()
        game.StarterGui:SetCore("SendNotification", {
            Title = "NPC Lock";
            Text = "Đã bật NPC Lock và tự do zoom camera!";
            Duration = 2;
        })
    else
        if oldMinZoom and oldMaxZoom then
            player.CameraMinZoomDistance = oldMinZoom
            player.CameraMaxZoomDistance = oldMaxZoom
        end
        game.StarterGui:SetCore("SendNotification", {
            Title = "NPC Lock";
            Text = "Đã tắt NPC Lock và trả về zoom mặc định!";
            Duration = 2;
        })
    end
end)

local noclipEnabled = false
local noclipConnection = nil

createButton("noclip", function()
    noclipEnabled = not noclipEnabled
    local function Noclip()
        local char = player.Character
        if char then
            for _, part in pairs(char:GetDescendants()) do
                if part:IsA("BasePart") and part.CanCollide == true then
                    part.CanCollide = false
                end
            end
        end
    end
    if noclipEnabled then
        noclipConnection = game:GetService("RunService").Stepped:Connect(Noclip)
        game.StarterGui:SetCore("SendNotification", {
            Title = "noclip";
            Text = "Đã bật xuyên tường!";
            Duration = 2;
        })
    else
        if noclipConnection then
            noclipConnection:Disconnect()
            noclipConnection = nil
        end
        local char = player.Character
        if char then
            for _, part in pairs(char:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.CanCollide = true
                end
            end
        end
        game.StarterGui:SetCore("SendNotification", {
            Title = "noclip";
            Text = "Đã tắt xuyên tường!";
            Duration = 2;
        })
    end
end)
